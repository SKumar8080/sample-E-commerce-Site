(function(c){var e=window.AmazonUIPageJS||window.P,f=e._namespace||e.attributeErrors,b=f?f("OMANotifyMeWidgetAssets@common","OMANotifyMeWidget"):e;b.guardFatal?b.guardFatal(c)(b,window):b.execute(function(){c(b,window)})})(function(c,e,f){c.when("A","ready").register("notify-me-misc-utils",function(b){function d(a){return"* #"+a}return{addHashSymbol:d,appendWithHyphen:function(a,b){return a+"-"+b},showElementById:function(a){null!==a&&b.$(d(a)).removeClass("aok-hidden")},hideElementById:function(a){null!==
a&&b.$(d(a)).addClass("aok-hidden")},triggerHiddenPopoverById:function(a){null!==a&&b.$(d(a)).show()},setInnerHTMLById:function(a,c){null!==a&&b.$(d(a)).text(c)}}})});
/* ******** */
(function(g){var f=window.AmazonUIPageJS||window.P,l=f._namespace||f.attributeErrors,d=l?l("OMANotifyMeWidgetAssets@2.0","OMANotifyMeWidget"):f;d.guardFatal?d.guardFatal(g)(d,window):d.execute(function(){g(d,window)})})(function(g,f,l){function d(e,b,h,a,c){c.hideElementById(e);c.hideElementById(b);c.showElementById(h);a(c.addHashSymbol(e)).disable()}function p(e,b,h,a){setTimeout(function(){a.hideElementById(b);h(a.addHashSymbol(e)).enable();a.showElementById(e)},1E3)}g.when("A","notify-me-misc-utils",
"a-button","ready").execute(function(e,b,h){e.declarative("oma-notify-me-action-2-0",["click"],function(a){if(a&&a.data){var c=e.parseJSON(a.data);if(c&&c.widgetId){var g=function(){p(f,n,h,b);b.showElementById(q)};a=c.widgetId;var f=b.appendWithHyphen("oma-notify-me-btn",a),l=b.appendWithHyphen("oma-notify-me-btn-text",a),n=b.appendWithHyphen("oma-notify-me-btn-spinner",a),u=b.appendWithHyphen("oma-notify-me-btn-changeover-sub",a),v=b.appendWithHyphen("oma-notify-me-btn-changeover-unsub",a),q=b.appendWithHyphen("oma-notify-me-btn-error-msg",
a),r=b.appendWithHyphen("oma-notify-me-btn-state",a),t=b.appendWithHyphen("oma-notify-me-btn-view-all-sub",a),w=b.appendWithHyphen("oma-notify-me-btn-signed-up-alert-msg",a),m=e.state(r);if(null==m||null==m.shouldSubscribe||"boolean"!=typeof m.shouldSubscribe)return g(),!1;if(!h(b.addHashSymbol(f)).isEnabled())return!1;a=c.subscriptionParams;a.action=m.shouldSubscribe?"sub":"unsub";var x=c.subscriptionUrl;d(f,q,n,h,b);e.ajax(x,{method:"post",params:a,timeout:5E3,success:function(){var a,d,k=m.shouldSubscribe;
!0===k?(k=!1,a=c.unSubText,d=u,b.showElementById(t)):!1===k?(k=!0,a=c.subText,d=v,b.hideElementById(t)):g();b.setInnerHTMLById(l,a);b.triggerHiddenPopoverById(d);e.state.replace(r,{shouldSubscribe:k});a=c.showUnsubscriptionWidget;!1===k&&!1===a?(b.hideElementById(n),b.showElementById(w)):p(f,n,h,b)},error:g})}}})})});
/* ******** */
